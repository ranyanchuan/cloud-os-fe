{"version":3,"sources":["webpack:///js/chunk/UpdateEnter-5.js","webpack:///./tw/pages/updateenter/index.js","webpack:///./tw/pages/updateenter/style.css"],"names":["webpackJsonp","1818","module","exports","__webpack_require__","Object","defineProperty","value","_dec","_class","_class2","_temp","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","requestStart","rootActions","requestSuccess","requestError","setCreateEnter","homeActions","getTeamInfo","teamconfigActions","Updateenter","connect","mapStateToProps","goHome","history","replace","goBack","handleClick","param","fn","dispatchMessageTypeHandler","type","detail","title","msg","btn","label","fun","create","error","then","payload","window","sessionStorage","getItem","removeItem","state","enterData","this","setState","userInfo","getContext","locale","className","pageEnterprise","enterTitle","hr","enterCont","keys","data","_from","handleClickFn","buttonText","loadingDesc","uploadApplication","texts","lang","Component","propTypes","PropTypes","shape","func","defaultProps","2069"],"mappings":"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","file":"js/chunk/UpdateEnter-5.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ 1818:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _dec,_class,_class2,_temp;// import { withRouter } from 'react-router-dom';\nvar _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(20);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _u=__webpack_require__(5);var _regMessageTypeHandler=__webpack_require__(26);var _enterContent=__webpack_require__(778);var _enterContent2=_interopRequireDefault(_enterContent);var _api=__webpack_require__(179);var _entertext=__webpack_require__(780);var _actions=__webpack_require__(34);var _actions2=_interopRequireDefault(_actions);var _actions3=__webpack_require__(147);var _actions4=_interopRequireDefault(_actions3);var _actions5=__webpack_require__(233);var _actions6=_interopRequireDefault(_actions5);var _style=__webpack_require__(2069);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var requestStart=_actions2.default.requestStart,requestSuccess=_actions2.default.requestSuccess,requestError=_actions2.default.requestError;var setCreateEnter=_actions4.default.setCreateEnter;var getTeamInfo=_actions6.default.getTeamInfo;// @withRouter\nvar Updateenter=(_dec=(0,_reactRedux.connect)((0,_u.mapStateToProps)('userInfo'),{requestStart:requestStart,requestSuccess:requestSuccess,requestError:requestError,getTeamInfo:getTeamInfo,// 获取团队基础信息\nsetCreateEnter:setCreateEnter}),_dec(_class=(_temp=_class2=function(_Component){_inherits(Updateenter,_Component);function Updateenter(props){_classCallCheck(this,Updateenter);var _this=_possibleConstructorReturn(this,(Updateenter.__proto__||Object.getPrototypeOf(Updateenter)).call(this,props));_this.goHome=function(){_this.props.history.replace('');};_this.goBack=function(){_this.props.history.goBack();};_this.handleClick=function(param,fn){(0,_regMessageTypeHandler.dispatchMessageTypeHandler)({type:\"showDialog\",detail:{type:'warning',title:'提示',msg:\"點擊確定後即將刷新頁面，是否繼續？\",btn:[{label:\"確定\",fun:function fun(){(0,_regMessageTypeHandler.dispatchMessageTypeHandler)({type:\"closeDialogNew\"});_this.create(param,fn);}},{label:\"取消\",fun:function fun(){(0,_regMessageTypeHandler.dispatchMessageTypeHandler)({type:\"closeDialogNew\"});fn({error:true});}}]}});};_this.create=function(param,fn){var _this$props=_this.props,requestStart=_this$props.requestStart,requestSuccess=_this$props.requestSuccess,requestError=_this$props.requestError,setCreateEnter=_this$props.setCreateEnter;requestStart();setCreateEnter(param,\"upgradeEnter\").then(function(_ref){var error=_ref.error,payload=_ref.payload;// 此处调用callback\nfn({error:error,payload:payload});if(error){requestError(payload);return;}requestSuccess();if(window.sessionStorage.getItem('TABS_DATA')){window.sessionStorage.removeItem('TABS_DATA');}});};_this.state={enterData:null};return _this;}_createClass(Updateenter,[{key:'componentWillMount',value:function componentWillMount(){var _this2=this;var _props=this.props,getTeamInfo=_props.getTeamInfo,requestError=_props.requestError,requestSuccess=_props.requestSuccess;getTeamInfo().then(function(_ref2){var error=_ref2.error,payload=_ref2.payload;if(error){requestError(payload);return false;}_this2.setState({enterData:payload});requestSuccess();});}},{key:'render',value:function render(){var enterData=this.state.enterData;var userInfo=this.props.userInfo;var _getContext=(0,_u.getContext)(),locale=_getContext.locale;return _react2.default.createElement('div',{className:'diworkcontent'},_react2.default.createElement('div',{className:_style.pageEnterprise},_react2.default.createElement('div',{className:_style.enterTitle},'\\u4F01\\u696D\\u8A8D\\u8B49'),_react2.default.createElement('hr',{className:_style.hr}),_react2.default.createElement('div',{className:_style.enterCont},enterData&&Object.keys(userInfo).length>0?_react2.default.createElement(_enterContent2.default,{data:enterData,userInfo:userInfo,_from:'update',handleClickFn:this.handleClick,buttonText:'\\u5347\\u7D1A',loadingDesc:'\\u6B63\\u5728\\u5347\\u7D1A\\u4F01\\u696D...',uploadApplication:_api.uploadApplication,texts:_entertext.texts,lang:locale}):null)));}}]);return Updateenter;}(_react.Component),_class2.propTypes={history:_propTypes2.default.shape({goBack:_propTypes2.default.func}),getTeamInfo:_propTypes2.default.func,requestError:_propTypes2.default.func,requestSuccess:_propTypes2.default.func},_class2.defaultProps={history:{},getTeamInfo:function getTeamInfo(){},requestError:function requestError(){},requestSuccess:function requestSuccess(){}},_temp))||_class);exports.default=Updateenter;\n\n/***/ }),\n\n/***/ 2069:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"pageEnterprise\":\"pageEnterprise--3UC-j\",\"enterTitle\":\"enterTitle--3MvR9\",\"hr\":\"hr--34iqW\",\"enterCont\":\"enterCont--1w0rN\"};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/chunk/UpdateEnter-5.js","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n// import { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { mapStateToProps, getContext } from '@u';\nimport { dispatchMessageTypeHandler } from 'public/regMessageTypeHandler';\n\nimport EnterContent from 'pub-comp/enterContent';\nimport { uploadApplication } from 'store/root/api';\nimport { texts } from 'yutils/entertext';\n\nimport rootActions from 'store/root/actions';\nimport homeActions from 'store/root/home/actions';\nimport teamconfigActions from 'store/root/teamconfig/actions';\nconst { requestStart, requestSuccess, requestError } = rootActions;\nconst { setCreateEnter } = homeActions;\nconst { getTeamInfo } = teamconfigActions;\n\nimport { pageEnterprise, enterTitle, enterCont, hr } from './style.css';\n\n// @withRouter\n@connect(\n  mapStateToProps(\n    'userInfo',\n  ),\n  {\n    requestStart,\n    requestSuccess,\n    requestError,\n    getTeamInfo, // 获取团队基础信息\n    setCreateEnter,\n  },\n)\nclass Updateenter extends Component {\n  static propTypes = {\n    history: PropTypes.shape({\n      goBack: PropTypes.func,\n    }),\n    getTeamInfo: PropTypes.func,\n    requestError: PropTypes.func,\n    requestSuccess: PropTypes.func,\n  };\n  static defaultProps = {\n    history: {},\n    getTeamInfo: () => { },\n    requestError: () => { },\n    requestSuccess: () => { },\n  };\n  constructor(props) {\n    super(props);\n    this.state = {\n      enterData: null,\n    };\n  }\n\n  componentWillMount() {\n    const { getTeamInfo, requestError, requestSuccess } = this.props;\n    getTeamInfo().then(({ error, payload }) => {\n      if (error) {\n        requestError(payload);\n        return false;\n      }\n      this.setState({\n        enterData: payload,\n      });\n      requestSuccess();\n    });\n  }\n\n  goHome = () => {\n    this.props.history.replace('');\n  }\n\n  goBack = () => {\n    this.props.history.goBack();\n  }\n\n  handleClick = (param, fn) => {\n    dispatchMessageTypeHandler({\n      type: \"showDialog\",\n      detail: {\n        type: 'warning',\n        title: '提示',\n        msg: \"點擊確定後即將刷新頁面，是否繼續？\",\n        btn: [{\n          label: \"確定\",\n          fun: () => {\n            dispatchMessageTypeHandler({\n              type: \"closeDialogNew\",\n            });\n            this.create(param, fn);\n          },\n        },\n        {\n          label: \"取消\",\n          fun: () => {\n            dispatchMessageTypeHandler({\n              type: \"closeDialogNew\",\n            });\n            fn({ error: true });\n          },\n        }\n        ]\n      }\n    });\n  }\n\n  create = (param, fn) => {\n    const {\n      requestStart,\n      requestSuccess,\n      requestError,\n      setCreateEnter\n    } = this.props;\n    requestStart();\n    setCreateEnter(param, \"upgradeEnter\").then(({ error, payload }) => {\n      // 此处调用callback\n      fn({ error, payload });\n      if (error) {\n        requestError(payload);\n        return;\n      }\n      requestSuccess();\n      if (window.sessionStorage.getItem('TABS_DATA')) {\n        window.sessionStorage.removeItem('TABS_DATA');\n      }\n    });\n  }\n\n  render() {\n    const { enterData } = this.state;\n    const { userInfo } = this.props;\n    const { locale } = getContext();\n    return (\n      <div className=\"diworkcontent\">\n        <div className={pageEnterprise}>\n          <div className={enterTitle} >企業認證</div>\n          <hr className={hr} />\n          <div className={enterCont} >\n            {\n              enterData && Object.keys(userInfo).length > 0 ?\n                <EnterContent\n                  data={enterData}\n                  userInfo={userInfo}\n                  _from=\"update\"\n                  handleClickFn={this.handleClick}\n                  buttonText=\"升級\"\n                  loadingDesc=\"正在升級企業...\"\n                  uploadApplication={uploadApplication}\n                  texts={texts}\n                  lang={locale}\n                /> : null\n            }\n\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Updateenter;\n\n\n\n\n// WEBPACK FOOTER //\n// ./tw/pages/updateenter/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"pageEnterprise\":\"pageEnterprise--3UC-j\",\"enterTitle\":\"enterTitle--3MvR9\",\"hr\":\"hr--34iqW\",\"enterCont\":\"enterCont--1w0rN\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tw/pages/updateenter/style.css\n// module id = 2069\n// module chunks = 5"],"sourceRoot":""}